<!-- BEGIN: Top HTML -->
<!DOCTYPE html>
<!-- include aframe -->
<script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
<!-- include ar.js -->
<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

<!-- to load .ply model -->
<script src="https://rawgit.com/donmccurdy/aframe-extras/v6.0.0/dist/aframe-extras.loaders.min.js"></script>

<!-- END: Top HTML -->

<!-- BEGIN: Unity Compiled Events -->
<script>
    var markerFound = 0;
    AFRAME.registerComponent('button', {
    init: function () {
    var elem = document.documentElement;
    var marker = document.querySelector("#marker");
    var fullbutton = document.querySelector("#fullscreen");
    marker.addEventListener("markerFound", function (evt) {
    markerFound = 1;
    });
    marker.addEventListener("markerLost", function (evt) {
    markerFound = 0;
    });
    
            fullbutton.addEventListener("click", function (evt) {
                if (fullscreen == 0) {
                    if (elem.requestFullscreen) {
                        elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) {
                        /* Firefox */
                    elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) {
                        /* Chrome, Safari and Opera */
                    elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) {
                        /* IE/Edge */
                    elem.msRequestFullscreen();
                }
                fullbutton.setAttribute("src", "../exit_fullscreen.png");
                fullscreen = 1;
                } else {
                        if (document.exitFullscreen) {
                            document.exitFullscreen();
                    } else if (document.webkitExitFullscreen) {
                            document.webkitExitFullscreen();
                    } else if (document.mozCancelFullScreen) {
                            document.mozCancelFullScreen();
                    } else if (document.msExitFullscreen) {
                            document.msExitFullscreen();
                    }
                    fullbutton.setAttribute("src", "../fullscreen.png");
                    fullscreen = 0;
                }
            });
    },
    tick: function (totalTime, deltaTime) {
    var dTime = deltaTime / 1000;
    
    if (markerFound == 1) {
    }
    
    
            function bezierEvaluate(p0, p1, p2, p3, t) {
                var u = (1 - t);                
                var uu = u * u;                
                var uuu = u * u * u;               
                var tt = t * t;               
                var ttt = t * t * t;               
                //B(t) = (1-t)^3*P0 3*(1-t)^2*t*P1 3*(1-t)*t^2*P2 t^3*P3 , 0 < t < 1               
                return (uuu * p0 + 3 * uu * t * p1 + 3 * u * tt * p2 + ttt * p3);          
            }          
            function bezierPath(p0, p1, p2, p3, t) {               
                return new THREE.Vector3(                   
                    bezierEvaluate(p0.x, p1.x, p2.x, p3.x, t),                   
                    bezierEvaluate(p0.y, p1.y, p2.y, p3.y, t),                   
                    bezierEvaluate(p0.z, p1.z, p2.z, p3.z, t)               
                );           
            }     
        }
    });
    </script>
    <!-- END: Unity Compiled Events -->
    
<body style="margin: 0px; overflow: hidden;">

<a-scene embedded vr-mode-ui="enabled: false;" arjs="debugUIEnabled: false;">

    <a-assets>
        <a-asset-item id="bok" src="models/bok.glb"></a-asset-item>
	</a-assets>
    
    <a-marker id="marker" preset="hiro" emitevents="true" button>
        <a-entity   position="0 0 0" 
                    rotation="0 0 0"
                    scale="0.10 0.10 0.10"
                    gltf-model="#bok" >
        </a-entity>
    </a-marker>
    
    <a-entity camera></a-entity>
    
</a-scene>
</body>
</html>